import 'dart:convert';
import 'package:cloud_firestore/cloud_firestore.dart';
import 'package:flutter/services.dart' as rootBundle;

Future<void> uploadJsonToFirestore() async {
  FirebaseFirestore firestore = FirebaseFirestore.instance;

  List<Map<String, dynamic>> jsonFiles = [
    {'file': 'assets/cafes.json', 'category': 'cafes'},
    {'file': 'assets/doctors.json', 'category': 'doctors'},
    {'file': 'assets/ias.json', 'category': 'ias'},
    {'file': 'assets/ngos.json', 'category': 'ngos'},
    {'file': 'assets/parks.json', 'category': 'parks'},
    {'file': 'assets/physiotherapist.json', 'category': 'physiotherapist'},
    {'file': 'assets/police.json', 'category': 'police'},
    {'file': 'assets/post.json', 'category': 'post'},
    {'file': 'assets/schools.json', 'category': 'schools'},
    {'file': 'assets/temples.json', 'category': 'temples'},
    {'file': 'assets/theatre.json', 'category': 'theatre'},
  ];

  for (var file in jsonFiles) {
    try {
      print('Loading file: ${file['file']}');
      String jsonString = await rootBundle.rootBundle.loadString(file['file']);
      print('Loaded ${file['file']} successfully');

      // Decode JSON data
      dynamic jsonData = jsonDecode(jsonString);
      print('Decoded JSON for ${file['category']}: $jsonData');

      // Upload to Firestore
      await firestore.collection('places').add({
        'category': file['category'],
        'data': jsonData,
      }).then((value) {
        print('${file['category']} uploaded successfully');
      }).catchError((error) {
        print("Error uploading ${file['category']}: $error");
      });
    } catch (e) {
      print('Error loading or uploading ${file['category']}: $e');
    }
  }
}































































































































































































































































































































































































































































































































    
 